<!DOCTYPE html>
<html>
  <head>
    <title>09 DOM exercises 9g9h</title>
  </head>
  <body>
    <main>
      <input class="js-input-cost" type="text" onkeydown="
        handleCostKeyDown(event);
      ">

      <button onclick="
        calculateTotal();
      ">
        Calculate
      </button>

      <p class="js-total-cost"></p>

      <input type="text" class="js-input-onkeyup" onkeyup="
        handleOnKeyUp(event);
        // console.log(event.target.value);
      ">
      <p class="js-p-onkeyup"></p>
    </main>

    <script>

      function handleCostKeyDown(event){
        if ( event.key === 'Enter' ) {
          calculateTotal();
        }
      }      

      function calculateTotal(){
        let cost=Number(document.querySelector('.js-input-cost').value);
        if (cost<40) {
          cost+=10;
        }
        cost=Math.round(cost*100);
        const floatPart=cost%100;
        const intPart=(cost-floatPart)/100;

        document.querySelector('.js-total-cost')
          .innerHTML=`$${intPart}.${floatPart}`;
      }

      function handleOnKeyUp(event){
        document.querySelector('.js-p-onkeyup')
          .innerText=event.target.value;
      }
    </script>
  </body>
</html>